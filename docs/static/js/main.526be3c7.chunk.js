(this["webpackJsonpvesting-dashboard"]=this["webpackJsonpvesting-dashboard"]||[]).push([[0],{1094:function(e,t,n){},1095:function(e,t,n){},1096:function(e,t,n){},1097:function(e,t,n){},1098:function(e,t,n){},1099:function(e,t,n){},1100:function(e,t,n){},1101:function(e,t,n){},1102:function(e,t,n){"use strict";n.r(t);n(472);var a=n(0),r=n.n(a),s=n(115),o=n.n(s),c=n(36),i=n(103),u=n(65),l=n(70),d=n(424),p=n(31),m=n(21),f=n.n(m);function y(e){return{type:"[Success] Fetch Contract",contract:e}}function h(e){return{type:"[Request] Change Beneficiary",address:e}}function b(e){return{type:"[Success] Change Beneficiary",address:e}}function v(e,t){return{type:"[Failure] Change Beneficiary",address:e,error:t}}var O={data:null,loading:!1,error:null};function g(e){return{type:"[Success] Fetch Ticker",ticker:e}}var j=n(425),w=n(142),E=n.n(w),k=function(e){return e.app.ticker},C=function(e){return k(e).data},N=n(143),x=n.n(N),M=function(e){return E()(1e3*e).format("dddd, MMM Do, YYYY")},A=function(e,t){return t?"$"+x()(e*t).format("0,0.00"):"..."},R=function(e){return x()(e).format("0,0")},S="#ff2d55",F="#c640cd",B="#222222",D="#d3d3d3";function P(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)}var _=function(e){return e.app.contract},T=function(e){return _(e).data},q=function(e){return e.routing.location?e.routing.location.pathname.slice(1):null},L=Object(j.a)(T,C,(function(e,t){for(var n=e.balance+e.released,a=[],r=new Date(1e3*e.start),s=E()(1e3*e.start).subtract(1,"month").endOf("month").add(1,"days"),o=new Date(1e3*e.start+1e3*e.duration),c=new Date(1e3*e.cliff),i=!1;!i;){var u=(s.toDate()-r)/(o-r)*n|0;console.log(s.toDate(),c,s.toDate()>c),a.push({MANA:s.toDate()>c?u:0,USD:s.toDate()>c?A(u,t):0,amount:s.toDate()>c?u:0,label:s.format("MMM Do, YYYY")}),i=s.toDate()>o,s.endOf("month").add(1,"days")}return console.log(a),a}));function Y(e,t){return{type:"[Success] Connect",address:e,network:t}}var I={data:{address:null},loading:!1,error:null};var K={data:null,loading:!1,error:null};var U={isChangeBeneficiaryModalOpen:!1};var W,J,V=Object(l.c)({contract:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Request] Fetch Contract":return Object(p.a)({},e,{error:null,loading:!0});case"[Success] Fetch Contract":return Object(p.a)({},e,{error:null,loading:!1,data:t.contract});case"[Failure] Fetch Contract":return Object(p.a)({},e,{loading:!1,error:t.error});default:return e}},ethereum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Request] Connect":return Object(p.a)({},e,{error:null,loading:!0});case"[Success] Connect":return Object(p.a)({},e,{error:null,loading:!1,data:Object(p.a)({},e.data,{address:t.address.toLowerCase(),network:t.network})});case"[Failure] Connect":return Object(p.a)({},e,{loading:!1,error:t.error});case"@@router/LOCATION_CHANGE":return Object(p.a)({},e,{error:null});default:return e}},ticker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Request] Fetch Ticker":return Object(p.a)({},e,{error:null,loading:!0});case"[Success] Fetch Ticker":return Object(p.a)({},e,{error:null,loading:!1,data:t.ticker});case"[Failure] Fetch Ticker":return Object(p.a)({},e,{loading:!1,error:t.error});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Open] Change Beneficiary Modal":return Object(p.a)({},e,{isChangeBeneficiaryModalOpen:!0});case"[Success] Change Beneficiary":case"[Failure] Change Beneficiary":case"[Close] Change Beneficiary Modal":return Object(p.a)({},e,{isChangeBeneficiaryModalOpen:!1});default:return e}}}),z=n(426),H=n(40),$=n(10),X=n(11),G=function(e){return e.app.ethereum},Q=function(e){return G(e).data.address},Z=n(427),ee=n.n(Z),te=n(428),ne=n(429),ae=function(){function e(){Object($.a)(this,e),this.store=null}return Object(X.a)(e,[{key:"setStore",value:function(e){this.store=e}},{key:"connect",value:function(){var e,t,n,a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.store.getState(),t=q(e),r.next=4,f.a.awrap(window.ethereum.enable());case 4:return n=r.sent[0],a=new ee.a(window.web3),W=new a.eth.Contract(te,"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942"),J=new a.eth.Contract(ne,t),r.abrupt("return",n);case 9:case"end":return r.stop()}}),null,this)}},{key:"fetchContract",value:function(){var e,t,n,a,r,s,o,c,i,u,l,d,p,m,y,h;return f.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return e=this.store.getState(),t=q(e),b.next=4,f.a.awrap(Promise.all([W.methods.balanceOf(t).call(),J.methods.duration().call(),J.methods.cliff().call(),J.methods.beneficiary().call(),J.methods.vestedAmount().call(),J.methods.releasableAmount().call(),J.methods.revoked().call(),J.methods.revocable().call(),J.methods.owner().call(),J.methods.released().call(),J.methods.start().call()]));case 4:return n=b.sent,a=Object(H.a)(n,11),r=a[0],s=a[1],o=a[2],c=a[3],i=a[4],u=a[5],l=a[6],d=a[7],p=a[8],m=a[9],y=a[10],h={address:t,balance:parseInt(r,10)/1e18,duration:parseInt(s,10),cliff:parseInt(o,10),beneficiary:c,vestedAmount:parseInt(i,10)/1e18,releasableAmount:parseInt(u,10)/1e18,revoked:l,revocable:d,owner:p,released:parseInt(m,10)/1e18,start:parseInt(y,10)},b.abrupt("return",h);case 19:case"end":return b.stop()}}),null,this)}},{key:"release",value:function(){var e=this.store.getState(),t=Q(e);return J.methods.release().send({from:t})}},{key:"changeBeneficiary",value:function(e){var t=this.store.getState(),n=Q(t);return J.methods.changeBeneficiary(e).send({from:n})}},{key:"fetchTicker",value:function(){var e,t,n,a,r=arguments;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"decentraland",s.prev=1,s.next=4,f.a.awrap(fetch("https://api.coingecko.com/api/v3/simple/price?ids=".concat(e,"&vs_currencies=usd"),{mode:"cors"}));case 4:return t=s.sent,s.next=7,f.a.awrap(t.json());case 7:return n=s.sent,a=n[e].usd,s.abrupt("return",a);case 12:return s.prev=12,s.t0=s.catch(1),s.abrupt("return",0);case 15:case"end":return s.stop()}}),null,null,[[1,12]])}},{key:"getNetwork",value:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(window.ethereum.enable());case 2:return e.abrupt("return",window.web3);case 3:case"end":return e.stop()}}))}}]),e}();n(905);var re=n(260),se=n(13),oe=n(12),ce=n(14),ie=(n(906),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props.address;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-left"},r.a.createElement("div",{className:"header-icon"}),r.a.createElement("h1",{className:"header-title"},"Decentraland")),r.a.createElement("div",{className:"header-right"},r.a.createElement("h3",{className:"header-description"},"Decentraland's MANA Token Vesting"),r.a.createElement("div",{className:"header-contract-address"},e)))}}]),t}(a.Component)),ue=Object(c.b)((function(e){return{address:q(e)}}),(function(e){return{}}))(ie),le=(n(907),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.percentage,n=e.color,a=e.amount,s=e.label,o=e.style,c=e.alt,i=e.ticker,u="metric-percentage"+(c?" alt":"");return r.a.createElement("div",{className:"metric",style:o},r.a.createElement("div",{className:"metric-label"},s),r.a.createElement("div",{className:"metric-amount"},R(a)," MANA"),r.a.createElement("div",{className:"metric-amount"},A(a,i)," USD"),r.a.createElement("div",{style:{backgroundColor:n},className:u},t,"%"))}}]),t}(a.Component)),de=(n(908),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.percentage,n=e.color;return r.a.createElement("div",{className:"progress-bar",style:{backgroundColor:n,width:t+"%"}})}}]),t}(a.Component)),pe=n(2),me=(Object(pe.shape)({address:pe.string.isRequired,balance:pe.number.isRequired,duration:pe.number.isRequired,cliff:pe.number.isRequired,beneficiary:pe.string.isRequired,vestedAmount:pe.number.isRequired,releasableAmount:pe.number.isRequired,revoked:pe.bool.isRequired,revocable:pe.bool.isRequired,owner:pe.string.isRequired,released:pe.number.isRequired,start:pe.number.isRequired}),n(909),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contract,n=e.ticker,a=t.released,s=t.vestedAmount,o=t.balance+a,c=a/o*100|0,i=s/o*100|0;return r.a.createElement("div",{className:"progress"},r.a.createElement(le,{label:"Released",percentage:c,amount:a,color:S,ticker:n}),r.a.createElement(le,{label:"Vested",percentage:i,amount:s,color:F,style:{bottom:0,left:i<20?0:"calc(".concat(i,"% - 90px)")},ticker:n}),r.a.createElement(le,{label:"Total vesting",percentage:100,amount:o,color:D,style:{right:0},ticker:n,alt:!0}),r.a.createElement(de,{percentage:100,color:D}),r.a.createElement(de,{percentage:i,color:F}),r.a.createElement(de,{percentage:c,color:S}))}}]),t}(a.Component)),fe=Object(c.b)((function(e){return{ticker:C(e),contract:T(e)}}),(function(e){return{}}))(me);n(910);var ye=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.children,a=e.title;return r.a.createElement("span",{className:"details-row",title:a},r.a.createElement("label",{className:"details-label"},t),r.a.createElement("span",{className:"details-value"},n))}}]),t}(a.Component),he=n(430),be=n.n(he),ve=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"getOpts",value:function(){return{seed:this.props.seed.toLowerCase(),color:"#e449c2",bgcolor:"#3149de",spotcolor:"#e449c2",size:6,scale:3}}},{key:"componentDidMount",value:function(){this.draw()}},{key:"draw",value:function(){be.a.render(this.getOpts(),this.canvas)}},{key:"render",value:function(){var e=this;return r.a.createElement("canvas",{ref:function(t){return e.canvas=t}})}}]),t}(a.Component),Oe=(n(911),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title;return r.a.createElement("div",{className:"Card"},n&&r.a.createElement("h3",null,n),t)}}]),t}(r.a.PureComponent)),ge=(n(912),function(e){function t(){var e,n;Object($.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(se.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).handleRelease=function(){var e=n.props,t=e.contract,a=e.onRelease;t.releasableAmount>0?a():alert("You don't have any MANA to release")},n}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contract,n=e.ticker,a=e.isBeneficiary,s=e.onChangeBeneficiary,o=t.beneficiary,c=t.start,i=t.cliff,u=t.duration,l=t.releasableAmount,d=t.revocable,p=t.revoked,m=null,f=null;return a&&(m=r.a.createElement("span",{className:"action-btn",onClick:this.handleRelease},"Release"),f=r.a.createElement("span",{className:"action-btn",onClick:s},"Change")),r.a.createElement(Oe,{title:"Details"},r.a.createElement(ye,{label:"Beneficiary",title:o},r.a.createElement(ve,{seed:o}),"\xa0\xa0",o.slice(0,6),"...",o.slice(-4),f),r.a.createElement(ye,{label:"Start date"},M(c)),r.a.createElement(ye,{label:"Cliff"},M(i)),r.a.createElement(ye,{label:"End date"},M(c+u)),r.a.createElement(ye,{label:"Relesable"},R(l)," MANA / ",A(l,n)," USD",m),r.a.createElement(ye,{label:p?"Revoked":"Revocable"},p?"Yes":d?"Yes":"No"))}}]),t}(a.Component)),je=Object(c.b)((function(e){var t,n,a=T(e),r=Q(e);return{contract:a,ticker:C(e),isBeneficiary:(t=a.beneficiary,n=r,t&&n&&t.toLowerCase()===n.toLowerCase())}}),(function(e){return{onRelease:function(){return e((function(e,t,n){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"[Request] Release"}),t.prev=1,t.next=4,f.a.awrap(n.release());case 4:return e({type:"[Success] Release"}),t.abrupt("return");case 8:t.prev=8,t.t0=t.catch(1),e({type:"[Failure] Release",error:t.t0.message});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}))},onChangeBeneficiary:function(){return e({type:"[Open] Change Beneficiary Modal"})}}}))(ge),we=n(182),Ee=n(72),ke=(n(1094),{backgroundColor:"black",padding:2,borderColor:B}),Ce={color:"white"},Ne=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.payload;return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(n,")")},r.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666"},N(a.value).format("0,0.0a").toUpperCase()," "))}}]),t}(r.a.PureComponent),xe=function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(se.a)(this,Object(oe.a)(t).call(this,e))).renderX=function(e){var t=e.x,a=e.y,s=e.payload,o=n.props.schedule;return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},r.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666"},o[s.index].label))},n.state={width:0,height:0},n.refContainer=n.refContainer.bind(Object(we.a)(n)),n}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"refContainer",value:function(e){if(e){var t=e.getBoundingClientRect();this.state.width===t.width&&this.state.height===t.height||this.setState({width:t.width,height:t.height})}}},{key:"render",value:function(){var e=this.props.schedule;return r.a.createElement("div",{className:"schedule",ref:this.refContainer},r.a.createElement("h3",null,"Schedule"),r.a.createElement(Ee.b,{width:this.state.width,height:this.state.height-50,data:e,margin:{top:5,right:20,bottom:5,left:0}},r.a.createElement(Ee.e,{dataKey:"label",stroke:B,tick:this.renderX}),r.a.createElement(Ee.f,{stroke:B,tick:r.a.createElement(Ne,null)}),r.a.createElement(Ee.a,{dataKey:"MANA"}),r.a.createElement(Ee.a,{dataKey:"USD"}),r.a.createElement(Ee.a,{dataKey:"amount",stroke:F,strokeWidth:2}),r.a.createElement(Ee.d,{wrapperStyle:ke,labelStyle:Ce}),r.a.createElement(Ee.c,{x:E()().subtract(1,"month").endOf("month").add(1,"days").format("MMM Do, YYYY"),stroke:S})))}}]),t}(a.Component),Me=Object(c.b)((function(e){return{schedule:L(e)}}),(function(e){return{}}))(xe),Ae=(n(1095),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"dashboard-left"},r.a.createElement(fe,null),r.a.createElement(je,null)),r.a.createElement("div",{className:"dashboard-right"},r.a.createElement(Me,null)))}}]),t}(a.Component)),Re=(n(1096),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-top"},r.a.createElement("div",{className:"footer-foundation"}),r.a.createElement("div",{className:"footer-links"}),r.a.createElement("div",{className:"footer-icons"})),r.a.createElement("div",{className:"footer-bottom"},r.a.createElement("span",{className:"footer-copyright"},"Copyright ",(new Date).getFullYear()," Decentraland. All rights reserved.")))}}]),t}(a.Component)),Se=n(185),Fe=(n(1097),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=Object(Se.a)(e,["className"]),a="Input ".concat(t);return r.a.createElement("input",Object.assign({className:a},n))}}]),t}(r.a.PureComponent));Fe.defaultProps={className:""};var Be=Fe,De=function(e){return function(e){return e.app.ui}(e).isChangeBeneficiaryModalOpen},Pe=(n(1098),function(e){function t(){var e,n;Object($.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(se.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).handleKeyDown=function(e){var t=n.props,a=t.onEnter,r=t.onEsc;13===e.which&&a&&a(),27===e.which&&r&&r()},n.handleClick=function(e){e.stopPropagation()},n}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isOpen,a=e.children,s=e.onOverlayClick,o="".concat(t," ").concat(n?"modal-open":""),c="Modal fade ".concat(n?"in":"");return r.a.createElement("div",{className:o,onKeyDown:this.handleKeyDown},r.a.createElement("div",{className:c,tabIndex:"-1",role:"dialog",onClick:s},r.a.createElement("div",{className:"modal-dialog",role:"document",onClick:this.handleClick},r.a.createElement("div",{className:"modal-content"},a))),n&&r.a.createElement("div",{className:"modal-backdrop fade in"}))}}]),t}(r.a.PureComponent));Pe.defaultProps={className:"",isOpen:!1};var _e=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.children;return r.a.createElement("button",{type:"button",className:"close btn btn-secondary","data-dismiss":"modal",onClick:t},n)}}]),t}(r.a.PureComponent),Te=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a="modal-body ".concat(n);return r.a.createElement("div",{className:a},t)}}]),t}(r.a.PureComponent);Te.defaultProps={className:""};var qe=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a="modal-footer ".concat(n);return r.a.createElement("div",{className:a},t)}}]),t}(r.a.PureComponent);qe.defaultProps={className:""};var Le=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClose,a=e.className,s="modal-header ".concat(a);return r.a.createElement("div",{className:s},n&&r.a.createElement(_e,{onClose:n},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,t)))}}]),t}(r.a.PureComponent);Pe.Body=Te,Pe.Footer=qe,Pe.Header=Le;var Ye=Pe;function Ie(e,t,n){var a="".concat(e," Button btn btn-").concat(t);return n&&(a="".concat(a," btn-").concat(n)),a}n(1099);var Ke=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.type,a=e.size,s=e.isSubmit,o=e.children,c=Object(Se.a)(e,["className","type","size","isSubmit","children"]),i=s?"submit":"button";return r.a.createElement("button",Object.assign({type:i,className:Ie(t,n,a)},c),o)}}]),t}(r.a.PureComponent);Ke.defaultProps={className:"",type:"primary",isSubmit:!1};var Ue=Ke,We=(n(1100),function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(se.a)(this,Object(oe.a)(t).call(this,e))).handleSubmit=function(){P(n.state.address)&&n.props.onSubmit(n.state.address)},n.handleChange=function(e){n.setState({address:e.target.value.trim()})},n.state={address:""},n}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.onClose;return r.a.createElement(Ye,{isOpen:t,onOverlayClick:n,onEsc:n,onEnter:this.handleSubmit},r.a.createElement(Ye.Header,{onClose:n},"Change Beneficiary"),r.a.createElement(Ye.Body,null,r.a.createElement("label",null,"Beneficiary address"),r.a.createElement(Be,{value:this.state.address,placeholder:"0x...",onChange:this.handleChange,className:"beneficiary-address-input"}),r.a.createElement("p",null,"This is an irreversible operation. Please check the address carefully.")),r.a.createElement(Ye.Footer,null,r.a.createElement(Ue,{disabled:!P(this.state.address),onClick:this.handleSubmit},"TRANSFER")))}}]),t}(r.a.PureComponent)),Je=Object(c.b)((function(e){return{isOpen:De(e)}}),(function(e){return{onSubmit:function(t){return e(function(e){return function(t,n,a){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t(h(e)),n.prev=1,n.next=4,f.a.awrap(a.changeBeneficiary(e));case 4:return t(b(e)),n.abrupt("return",e);case 8:n.prev=8,n.t0=n.catch(1),t(v(e,n.t0.message));case 11:case"end":return n.stop()}}),null,null,[[1,8]])}}(t))},onClose:function(){return e({type:"[Close] Change Beneficiary Modal"})}}}))(We),Ve=(n(1101),function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(se.a)(this,Object(oe.a)(t).call(this,e))).handleAddressChange=function(e){var t=e.target.value.trim();localStorage.setItem("address",t),n.setState({address:t})},n.handleKeyDown=function(e){var t=13===e.which||32===e.which,a=n.props,r=a.onAccess,s=a.showPrompt,o=a.address;t&&s&&n.state.address&&P(n.state.address)&&n.state.address!==o&&r(n.state.address)},n.state={address:n.props.address||localStorage.getItem("address")||null},n}return Object(ce.a)(t,e),Object(X.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.onConnect)(),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentWillReceiveProps",value:function(e){e.address!==this.props.address&&(0,this.props.onConnect)()}},{key:"renderPrompt",value:function(){var e=this.props,t=e.isNotFound,n=e.address,a=e.network,s="Press enter to continue";return this.state.address?P(this.state.address)?t&&this.state.address===n&&(s="There's no vesting contract on that address..."+(a&&"mainnet"!==a.name?"\nMaybe it's because you are on "+a.label+"?":"")):s="That's not a valid Ethereum address":s="Please provide a vesting contract address",r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"decentraland-logo"}),r.a.createElement("h3",null,"Contract Address"),r.a.createElement(Be,{value:this.state.address,placeholder:"0x...",onChange:this.handleAddressChange}),r.a.createElement("p",{className:"help"},s)))}},{key:"renderError",value:function(){var e=this.props.connectionError,t="So this happened: "+e;return e&&-1!==e.indexOf("Failed to fetch")&&(t=r.a.createElement("p",{className:"error"},"Make sure you are connected to the internet.")),e&&-1!==e.indexOf("Ethereum")&&(t=r.a.createElement("p",{className:"error"},"Make sure you have"," ",r.a.createElement("a",{href:"https://metamask.io",target:"_blank",rel:"noreferrer noopener"},"MetaMask")," ","installed and your account is unlocked.")),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"decentraland-logo"}),r.a.createElement("h3",null,"Uh-oh... something went wrong."),t))}},{key:"renderLoading",value:function(){var e=this.props.loadingMessage;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"decentraland-logo"}),r.a.createElement("p",{className:"loading-message"},e)))}},{key:"render",value:function(){var e=this.props,t=e.loadingMessage,n=e.connectionError,a=e.contractError,s=e.showPrompt,o=e.isLoaded;return t?this.renderLoading():n||a?this.renderError():s?this.renderPrompt():o?r.a.createElement("div",{className:"app"},r.a.createElement(ue,null),r.a.createElement(Ae,null),r.a.createElement(Re,null),r.a.createElement(Je,null)):null}}]),t}(a.Component)),ze=Object(re.c)(Object(c.b)((function(e){var t=null,n=function(e){return G(e).error}(e),a=function(e){return _(e).error}(e),r=T(e),s=function(e){return G(e).data.network}(e),o=q(e),c=r&&"0x"===r.beneficiary,i=c||!o;return!function(e){return G(e).loading}(e)?function(e){return _(e).loading}(e)&&(t="Loading data..."):t="Connecting...",{address:o,loadingMessage:t,connectionError:n,contractError:a,showPrompt:i,isNotFound:c,isLoaded:!!r,network:s}}),(function(e){return{onConnect:function(){return e((function(e,t,n){var a,r,s;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if((a=q(t()))&&P(a)){o.next=3;break}return o.abrupt("return");case 3:return e({type:"[Request] Connect"}),o.prev=4,o.next=7,f.a.awrap(n.connect());case 7:return r=o.sent,o.next=10,f.a.awrap(n.getNetwork());case 10:return s=o.sent,e(Y(r,s)),e((function(e,t,n){var a;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"[Request] Fetch Contract"}),t.prev=1,t.next=4,f.a.awrap(n.fetchContract());case 4:return a=t.sent,e(y(a)),t.abrupt("return",a);case 9:t.prev=9,t.t0=t.catch(1),e({type:"[Failure] Fetch Contract",error:t.t0.message});case 12:case"end":return t.stop()}}),null,null,[[1,9]])})),e((function(e,t,n){var a;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"[Request] Fetch Ticker"}),t.prev=1,t.next=4,f.a.awrap(n.fetchTicker("decentraland"));case 4:return a=t.sent,e(g(a)),t.abrupt("return",a);case 9:t.prev=9,t.t0=t.catch(1),e({type:"[Failure] Fetch Ticker",error:t.t0.message});case 12:case"end":return t.stop()}}),null,null,[[1,9]])})),o.abrupt("return",r);case 17:o.prev=17,o.t0=o.catch(4),e({type:"[Failure] Connect",error:o.t0.message});case 20:case"end":return o.stop()}}),null,null,[[4,17]])}))},onAccess:function(t){return e(Object(i.b)(t))}}}))(Ve)),He=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");He?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Xe(e)}))}}function Xe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.ethereum.enable().then((function(){var e=Object(u.a)(window.history),t=function(e,t){var n=Object(l.c)({app:V,routing:i.d}),a=new ae,r=Object(i.c)(e),s=Object(d.createLogger)({predicate:function(){return!0},collapsed:function(){return!0}}),o=Object(l.a)(z.a.withExtraArgument(a),r,s),c=window.devToolsExtension?window.devToolsExtension():function(e){return e},u=Object(l.d)(o,c),p=Object(l.e)(n,t,u);return a.setStore(p),p}(e);o.a.render(r.a.createElement(c.a,{store:t},r.a.createElement(i.a,{store:t,history:e},r.a.createElement(re.b,{history:e},r.a.createElement(re.a,{path:"*"},r.a.createElement(ze,null))))),document.getElementById("root")),$e()}))},428:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"mintingFinished","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"unpause","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"mint","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_value","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"finishMinting","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"remaining","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[],"name":"MintFinished","type":"event"},{"anonymous":false,"inputs":[],"name":"Pause","type":"event"},{"anonymous":false,"inputs":[],"name":"Unpause","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"burner","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},429:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"duration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"cliff","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"beneficiary","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"terraformReserve","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"returnVesting","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"vestedAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"releasableAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"revoked","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"release","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"revocable","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"released","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_token","type":"address"},{"name":"amount","type":"uint256"}],"name":"releaseForeignToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"revoke","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"start","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"lockMana","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"target","type":"address"}],"name":"releaseTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"target","type":"address"}],"name":"changeBeneficiary","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"token","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_beneficiary","type":"address"},{"name":"_start","type":"uint256"},{"name":"_cliff","type":"uint256"},{"name":"_duration","type":"uint256"},{"name":"_revocable","type":"bool"},{"name":"_token","type":"address"},{"name":"_returnVesting","type":"address"},{"name":"_terraformReserve","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"}],"name":"LockedMANA","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"}],"name":"Released","type":"event"},{"anonymous":false,"inputs":[],"name":"Revoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]')},471:function(e,t,n){e.exports=n(1102)},694:function(e,t){},718:function(e,t){},720:function(e,t){},765:function(e,t){},767:function(e,t){},796:function(e,t){},905:function(e,t,n){},906:function(e,t,n){},907:function(e,t,n){},908:function(e,t,n){},909:function(e,t,n){},910:function(e,t,n){},911:function(e,t,n){},912:function(e,t,n){}},[[471,1,2]]]);
//# sourceMappingURL=main.526be3c7.chunk.js.map