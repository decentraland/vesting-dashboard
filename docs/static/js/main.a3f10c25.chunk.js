(this["webpackJsonpvesting-dashboard"]=this["webpackJsonpvesting-dashboard"]||[]).push([[0],{1094:function(e,t,a){},1095:function(e,t,a){},1096:function(e,t,a){},1097:function(e,t,a){},1098:function(e,t,a){},1099:function(e,t,a){},1100:function(e,t,a){},1101:function(e,t,a){},1102:function(e,t,a){"use strict";a.r(t);a(472);var n=a(0),r=a.n(n),s=a(115),o=a.n(s),c=a(36),i=a(103),l=a(65),u=a(70),d=a(424),p=a(31),m=a(21),f=a.n(m);function h(e){return{type:"[Success] Fetch Contract",contract:e}}function b(e){return{type:"[Request] Change Beneficiary",address:e}}function y(e){return{type:"[Success] Change Beneficiary",address:e}}function v(e,t){return{type:"[Failure] Change Beneficiary",address:e,error:t}}var g={data:null,loading:!1,error:null};function O(e){return{type:"[Success] Fetch Ticker",ticker:e}}var E=a(425),w=a(142),j=a.n(w),k=function(e){return e.app.ticker},C=function(e){return k(e).data},N=a(143),x=a.n(N),M=function(e){return j()(1e3*e).format("dddd, MMM Do, YYYY")},A=function(e,t){return t?"$"+x()(e*t).format("0,0.00"):"..."},R=function(e){return x()(e).format("0,0")},S="#4db1dd",F="#30d7a9",_="#222222",B="#d3d3d3";function D(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)}var P=function(e){return e.app.contract},q=function(e){return P(e).data},T=function(e){return e.routing.location?e.routing.location.pathname.slice(1):null},L=Object(E.a)(q,C,(function(e,t){for(var a=e.balance+e.released,n=[],r=new Date(1e3*e.start),s=j()(1e3*e.start).subtract(1,"month").endOf("month").add(1,"days"),o=new Date(1e3*e.start+1e3*e.duration),c=new Date(1e3*e.cliff),i=!1;!i;){var l=(s.toDate()-r)/(o-r)*a|0;console.log(s.toDate(),c,s.toDate()>c),n.push({MANA:s.toDate()>c?l:0,USD:s.toDate()>c?A(l,t):0,amount:s.toDate()>c?l:0,label:s.format("MMM Do, YYYY")}),i=s.toDate()>o,s.endOf("month").add(1,"days")}return console.log(n),n}));function Y(e,t){return{type:"[Success] Connect",address:e,network:t}}var I={data:{address:null},loading:!1,error:null};var K={data:null,loading:!1,error:null};var U={isChangeBeneficiaryModalOpen:!1};var W,J,V=Object(u.c)({contract:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Request] Fetch Contract":return Object(p.a)({},e,{error:null,loading:!0});case"[Success] Fetch Contract":return Object(p.a)({},e,{error:null,loading:!1,data:t.contract});case"[Failure] Fetch Contract":return Object(p.a)({},e,{loading:!1,error:t.error});default:return e}},ethereum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Request] Connect":return Object(p.a)({},e,{error:null,loading:!0});case"[Success] Connect":return Object(p.a)({},e,{error:null,loading:!1,data:Object(p.a)({},e.data,{address:t.address.toLowerCase(),network:t.network})});case"[Failure] Connect":return Object(p.a)({},e,{loading:!1,error:t.error});case"@@router/LOCATION_CHANGE":return Object(p.a)({},e,{error:null});default:return e}},ticker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Request] Fetch Ticker":return Object(p.a)({},e,{error:null,loading:!0});case"[Success] Fetch Ticker":return Object(p.a)({},e,{error:null,loading:!1,data:t.ticker});case"[Failure] Fetch Ticker":return Object(p.a)({},e,{loading:!1,error:t.error});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Open] Change Beneficiary Modal":return Object(p.a)({},e,{isChangeBeneficiaryModalOpen:!0});case"[Success] Change Beneficiary":case"[Failure] Change Beneficiary":case"[Close] Change Beneficiary Modal":return Object(p.a)({},e,{isChangeBeneficiaryModalOpen:!1});default:return e}}}),z=a(426),H=a(40),$=a(10),G=a(11),X=function(e){return e.app.ethereum},Q=function(e){return X(e).data.address},Z=a(427),ee=a.n(Z),te=a(428),ae=a(429),ne=function(){function e(){Object($.a)(this,e),this.store=null}return Object(G.a)(e,[{key:"setStore",value:function(e){this.store=e}},{key:"connect",value:function(){var e,t,a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.store.getState(),t=T(e),r.next=4,f.a.awrap(window.ethereum.enable());case 4:return a=r.sent[0],n=new ee.a(window.web3),W=new n.eth.Contract(te,"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942"),J=new n.eth.Contract(ae,t),r.abrupt("return",a);case 9:case"end":return r.stop()}}),null,this)}},{key:"fetchContract",value:function(){var e,t,a,n,r,s,o,c,i,l,u,d,p,m,h,b;return f.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return e=this.store.getState(),t=T(e),y.next=4,f.a.awrap(Promise.all([W.methods.balanceOf(t).call(),J.methods.duration().call(),J.methods.cliff().call(),J.methods.beneficiary().call(),J.methods.vestedAmount().call(),J.methods.releasableAmount().call(),J.methods.revoked().call(),J.methods.revocable().call(),J.methods.owner().call(),J.methods.released().call(),J.methods.start().call()]));case 4:return a=y.sent,n=Object(H.a)(a,11),r=n[0],s=n[1],o=n[2],c=n[3],i=n[4],l=n[5],u=n[6],d=n[7],p=n[8],m=n[9],h=n[10],b={address:t,balance:parseInt(r,10)/1e18,duration:parseInt(s,10),cliff:parseInt(o,10),beneficiary:c,vestedAmount:parseInt(i,10)/1e18,releasableAmount:parseInt(l,10)/1e18,revoked:u,revocable:d,owner:p,released:parseInt(m,10)/1e18,start:parseInt(h,10)},y.abrupt("return",b);case 19:case"end":return y.stop()}}),null,this)}},{key:"release",value:function(){var e=this.store.getState(),t=Q(e);return J.methods.release().send({from:t})}},{key:"changeBeneficiary",value:function(e){var t=this.store.getState(),a=Q(t);return J.methods.changeBeneficiary(e).send({from:a})}},{key:"fetchTicker",value:function(){var e,t,a,n,r=arguments;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"decentraland",s.prev=1,s.next=4,f.a.awrap(fetch("https://api.coingecko.com/api/v3/simple/price?ids=".concat(e,"&vs_currencies=usd"),{mode:"cors"}));case 4:return t=s.sent,s.next=7,f.a.awrap(t.json());case 7:return a=s.sent,n=a[e].usd,s.abrupt("return",n);case 12:return s.prev=12,s.t0=s.catch(1),s.abrupt("return",0);case 15:case"end":return s.stop()}}),null,null,[[1,12]])}},{key:"getNetwork",value:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(window.ethereum.enable());case 2:return e.abrupt("return",window.web3);case 3:case"end":return e.stop()}}))}}]),e}();a(905);var re=a(260),se=a(13),oe=a(12),ce=a(14),ie=(a(906),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props.address;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-left"},r.a.createElement("div",{className:"header-icon"}),r.a.createElement("h1",{className:"header-title"},"Decentraland")),r.a.createElement("div",{className:"header-right"},r.a.createElement("h3",{className:"header-description"},"Decentraland's MANA Token Vesting"),r.a.createElement("div",{className:"header-contract-address"},e)))}}]),t}(n.Component)),le=Object(c.b)((function(e){return{address:T(e)}}),(function(e){return{}}))(ie),ue=(a(907),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.percentage,a=e.color,n=e.amount,s=e.label,o=e.style,c=e.alt,i=e.ticker,l="metric-percentage"+(c?" alt":"");return r.a.createElement("div",{className:"metric",style:o},r.a.createElement("div",{className:"metric-label"},s),r.a.createElement("div",{className:"metric-amount"},R(n)," MANA"),r.a.createElement("div",{className:"metric-amount"},A(n,i)," USD"),r.a.createElement("div",{style:{backgroundColor:a},className:l},t,"%"))}}]),t}(n.Component)),de=(a(908),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.percentage,a=e.color;return r.a.createElement("div",{className:"progress-bar",style:{backgroundColor:a,width:t+"%"}})}}]),t}(n.Component)),pe=a(2),me=(Object(pe.shape)({address:pe.string.isRequired,balance:pe.number.isRequired,duration:pe.number.isRequired,cliff:pe.number.isRequired,beneficiary:pe.string.isRequired,vestedAmount:pe.number.isRequired,releasableAmount:pe.number.isRequired,revoked:pe.bool.isRequired,revocable:pe.bool.isRequired,owner:pe.string.isRequired,released:pe.number.isRequired,start:pe.number.isRequired}),a(909),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contract,a=e.ticker,n=t.released,s=t.vestedAmount,o=t.balance+n,c=n/o*100|0,i=s/o*100|0;return r.a.createElement("div",{className:"progress"},r.a.createElement(ue,{label:"Released",percentage:c,amount:n,color:S,alt:!0,ticker:a}),r.a.createElement(ue,{label:"Vested",percentage:i,amount:s,color:F,style:{bottom:0,left:i<20?0:"calc(".concat(i,"% - 90px)")},alt:!0,ticker:a}),r.a.createElement(ue,{label:"Total vesting",percentage:100,amount:o,color:B,style:{right:0},ticker:a}),r.a.createElement(de,{percentage:100,color:B}),r.a.createElement(de,{percentage:i,color:F}),r.a.createElement(de,{percentage:c,color:S}))}}]),t}(n.Component)),fe=Object(c.b)((function(e){return{ticker:C(e),contract:q(e)}}),(function(e){return{}}))(me);a(910);var he=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.children,n=e.title;return r.a.createElement("span",{className:"details-row",title:n},r.a.createElement("label",{className:"details-label"},t),r.a.createElement("span",{className:"details-value"},a))}}]),t}(n.Component),be=a(430),ye=a.n(be),ve=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"getOpts",value:function(){return{seed:this.props.seed,color:"#7ea9da",spotcolor:"#571b37",bgcolor:"#8b5ac2",size:8,scale:2}}},{key:"componentDidMount",value:function(){this.draw()}},{key:"draw",value:function(){ye.a.render(this.getOpts(),this.canvas)}},{key:"render",value:function(){var e=this;return r.a.createElement("canvas",{ref:function(t){return e.canvas=t}})}}]),t}(n.Component),ge=(a(911),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.title;return r.a.createElement("div",{className:"Card"},a&&r.a.createElement("h3",null,a),t)}}]),t}(r.a.PureComponent)),Oe=(a(912),function(e){function t(){var e,a;Object($.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(se.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).handleRelease=function(){var e=a.props,t=e.contract,n=e.onRelease;t.releasableAmount>0?n():alert("You don't have any MANA to release")},a}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contract,a=e.ticker,n=e.isBeneficiary,s=e.onChangeBeneficiary,o=t.beneficiary,c=t.start,i=t.cliff,l=t.duration,u=t.releasableAmount,d=t.revocable,p=t.revoked,m=null,f=null;return n&&(m=r.a.createElement("span",{className:"action-btn",onClick:this.handleRelease},"Release"),f=r.a.createElement("span",{className:"action-btn",onClick:s},"Change")),r.a.createElement(ge,{title:"Details"},r.a.createElement(he,{label:"Beneficiary",title:o},r.a.createElement(ve,{seed:o}),"\xa0\xa0",o.slice(0,6),"...",o.slice(-4),f),r.a.createElement(he,{label:"Start date"},M(c)),r.a.createElement(he,{label:"Cliff"},M(i)),r.a.createElement(he,{label:"End date"},M(c+l)),r.a.createElement(he,{label:"Relesable"},R(u)," MANA / ",A(u,a)," USD",m),r.a.createElement(he,{label:p?"Revoked":"Revocable"},p?"Yes":d?"Yes":"No"))}}]),t}(n.Component)),Ee=Object(c.b)((function(e){var t,a,n=q(e),r=Q(e);return{contract:n,ticker:C(e),isBeneficiary:(t=n.beneficiary,a=r,t&&a&&t.toLowerCase()===a.toLowerCase())}}),(function(e){return{onRelease:function(){return e((function(e,t,a){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"[Request] Release"}),t.prev=1,t.next=4,f.a.awrap(a.release());case 4:return e({type:"[Success] Release"}),t.abrupt("return");case 8:t.prev=8,t.t0=t.catch(1),e({type:"[Failure] Release",error:t.t0.message});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}))},onChangeBeneficiary:function(){return e({type:"[Open] Change Beneficiary Modal"})}}}))(Oe),we=a(182),je=a(72),ke=(a(1094),{backgroundColor:"black",padding:2,borderColor:_}),Ce={color:"white"},Ne=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},r.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666"},N(n.value).format("0,0.0a").toUpperCase()," "))}}]),t}(r.a.PureComponent),xe=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(se.a)(this,Object(oe.a)(t).call(this,e))).renderX=function(e){var t=e.x,n=e.y,s=e.payload,o=a.props.schedule;return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(n,")")},r.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666"},o[s.index].label))},a.state={width:0,height:0},a.refContainer=a.refContainer.bind(Object(we.a)(a)),a}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"refContainer",value:function(e){if(e){var t=e.getBoundingClientRect();this.state.width===t.width&&this.state.height===t.height||this.setState({width:t.width,height:t.height})}}},{key:"render",value:function(){var e=this.props.schedule;return r.a.createElement("div",{className:"schedule",ref:this.refContainer},r.a.createElement("h3",null,"Schedule"),r.a.createElement(je.b,{width:this.state.width,height:this.state.height-50,data:e,margin:{top:5,right:20,bottom:5,left:0}},r.a.createElement(je.e,{dataKey:"label",stroke:_,tick:this.renderX}),r.a.createElement(je.f,{stroke:_,tick:r.a.createElement(Ne,null)}),r.a.createElement(je.a,{dataKey:"MANA"}),r.a.createElement(je.a,{dataKey:"USD"}),r.a.createElement(je.a,{dataKey:"amount",stroke:F,strokeWidth:2}),r.a.createElement(je.d,{wrapperStyle:ke,labelStyle:Ce}),r.a.createElement(je.c,{x:j()().subtract(1,"month").endOf("month").add(1,"days").format("MMM Do, YYYY"),stroke:S})))}}]),t}(n.Component),Me=Object(c.b)((function(e){return{schedule:L(e)}}),(function(e){return{}}))(xe),Ae=(a(1095),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"dashboard-left"},r.a.createElement(fe,null),r.a.createElement(Ee,null)),r.a.createElement("div",{className:"dashboard-right"},r.a.createElement(Me,null)))}}]),t}(n.Component)),Re=(a(1096),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-top"},r.a.createElement("div",{className:"footer-foundation"},"Decentraland Foundation"),r.a.createElement("div",{className:"footer-links"},r.a.createElement("a",{href:"https://blog.decentraland.org/",target:"_blank",rel:"noopener noreferrer"},"Blog"),r.a.createElement("a",{href:"https://decentraland.org/#faqs",target:"_blank",rel:"noopener noreferrer"},"FAQs"),r.a.createElement("a",{href:"mailto:hello@decentraland.org",target:"_blank",rel:"noopener noreferrer"},"Get in touch")),r.a.createElement("div",{className:"footer-icons"},r.a.createElement("a",{href:"https://twitter.com/decentraland",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-twitter"})),r.a.createElement("a",{href:"https://github.com/decentraland",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github"})),r.a.createElement("a",{href:"https://chat.decentraland.org/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-rocketchat"})),r.a.createElement("a",{href:"https://reddit.com/r/decentraland",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-reddit"})),r.a.createElement("a",{href:"https://www.facebook.com/decentraland/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-facebook"})),r.a.createElement("a",{href:"https://forum.decentraland.org/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"far fa-comment"})))),r.a.createElement("div",{className:"footer-bottom"},r.a.createElement("span",{className:"footer-copyright"},"Copyright 2018 Decentraland. All rights reserved.")))}}]),t}(n.Component)),Se=a(185),Fe=(a(1097),function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=Object(Se.a)(e,["className"]),n="Input ".concat(t);return r.a.createElement("input",Object.assign({className:n},a))}}]),t}(r.a.PureComponent));Fe.defaultProps={className:""};var _e=Fe,Be=function(e){return function(e){return e.app.ui}(e).isChangeBeneficiaryModalOpen},De=(a(1098),function(e){function t(){var e,a;Object($.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(se.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).handleKeyDown=function(e){var t=a.props,n=t.onEnter,r=t.onEsc;13===e.which&&n&&n(),27===e.which&&r&&r()},a.handleClick=function(e){e.stopPropagation()},a}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.isOpen,n=e.children,s=e.onOverlayClick,o="".concat(t," ").concat(a?"modal-open":""),c="Modal fade ".concat(a?"in":"");return r.a.createElement("div",{className:o,onKeyDown:this.handleKeyDown},r.a.createElement("div",{className:c,tabIndex:"-1",role:"dialog",onClick:s},r.a.createElement("div",{className:"modal-dialog",role:"document",onClick:this.handleClick},r.a.createElement("div",{className:"modal-content"},n))),a&&r.a.createElement("div",{className:"modal-backdrop fade in"}))}}]),t}(r.a.PureComponent));De.defaultProps={className:"",isOpen:!1};var Pe=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.children;return r.a.createElement("button",{type:"button",className:"close btn btn-secondary","data-dismiss":"modal",onClick:t},a)}}]),t}(r.a.PureComponent),qe=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n="modal-body ".concat(a);return r.a.createElement("div",{className:n},t)}}]),t}(r.a.PureComponent);qe.defaultProps={className:""};var Te=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n="modal-footer ".concat(a);return r.a.createElement("div",{className:n},t)}}]),t}(r.a.PureComponent);Te.defaultProps={className:""};var Le=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.onClose,n=e.className,s="modal-header ".concat(n);return r.a.createElement("div",{className:s},a&&r.a.createElement(Pe,{onClose:a},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,t)))}}]),t}(r.a.PureComponent);De.Body=qe,De.Footer=Te,De.Header=Le;var Ye=De;function Ie(e,t,a){var n="".concat(e," Button btn btn-").concat(t);return a&&(n="".concat(n," btn-").concat(a)),n}a(1099);var Ke=function(e){function t(){return Object($.a)(this,t),Object(se.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.type,n=e.size,s=e.isSubmit,o=e.children,c=Object(Se.a)(e,["className","type","size","isSubmit","children"]),i=s?"submit":"button";return r.a.createElement("button",Object.assign({type:i,className:Ie(t,a,n)},c),o)}}]),t}(r.a.PureComponent);Ke.defaultProps={className:"",type:"primary",isSubmit:!1};var Ue=Ke,We=(a(1100),function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(se.a)(this,Object(oe.a)(t).call(this,e))).handleSubmit=function(){D(a.state.address)&&a.props.onSubmit(a.state.address)},a.handleChange=function(e){a.setState({address:e.target.value.trim()})},a.state={address:""},a}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.onClose;return r.a.createElement(Ye,{isOpen:t,onOverlayClick:a,onEsc:a,onEnter:this.handleSubmit},r.a.createElement(Ye.Header,{onClose:a},"Change Beneficiary"),r.a.createElement(Ye.Body,null,r.a.createElement("label",null,"Beneficiary address"),r.a.createElement(_e,{value:this.state.address,placeholder:"0x...",onChange:this.handleChange,className:"beneficiary-address-input"}),r.a.createElement("p",null,"This is an irreversible operation. Please check the address carefully.")),r.a.createElement(Ye.Footer,null,r.a.createElement(Ue,{disabled:!D(this.state.address),onClick:this.handleSubmit},"TRANSFER")))}}]),t}(r.a.PureComponent)),Je=Object(c.b)((function(e){return{isOpen:Be(e)}}),(function(e){return{onSubmit:function(t){return e(function(e){return function(t,a,n){return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t(b(e)),a.prev=1,a.next=4,f.a.awrap(n.changeBeneficiary(e));case 4:return t(y(e)),a.abrupt("return",e);case 8:a.prev=8,a.t0=a.catch(1),t(v(e,a.t0.message));case 11:case"end":return a.stop()}}),null,null,[[1,8]])}}(t))},onClose:function(){return e({type:"[Close] Change Beneficiary Modal"})}}}))(We),Ve=(a(1101),function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(se.a)(this,Object(oe.a)(t).call(this,e))).handleAddressChange=function(e){var t=e.target.value.trim();localStorage.setItem("address",t),a.setState({address:t})},a.handleKeyDown=function(e){var t=13===e.which||32===e.which,n=a.props,r=n.onAccess,s=n.showPrompt,o=n.address;t&&s&&a.state.address&&D(a.state.address)&&a.state.address!==o&&r(a.state.address)},a.state={address:a.props.address||localStorage.getItem("address")||null},a}return Object(ce.a)(t,e),Object(G.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.onConnect)(),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentWillReceiveProps",value:function(e){e.address!==this.props.address&&(0,this.props.onConnect)()}},{key:"renderPrompt",value:function(){var e=this.props,t=e.isNotFound,a=e.address,n=e.network,s="Press enter to continue";return this.state.address?D(this.state.address)?t&&this.state.address===a&&(s="There's no vesting contract on that address..."+(n&&"mainnet"!==n.name?"\nMaybe it's because you are on "+n.label+"?":"")):s="That's not a valid Ethereum address":s="Please provide a vesting contract address",r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"decentraland-logo"}),r.a.createElement("h3",null,"Contract Address"),r.a.createElement(_e,{value:this.state.address,placeholder:"0x...",onChange:this.handleAddressChange}),r.a.createElement("p",{className:"help"},s)))}},{key:"renderError",value:function(){var e=this.props.connectionError,t="So this happened: "+e;return-1!==e.indexOf("Failed to fetch")&&(t=r.a.createElement("p",{className:"error"},"Make sure you are connected to the internet.")),-1!==e.indexOf("Ethereum")&&(t=r.a.createElement("p",{className:"error"},"Make sure you have"," ",r.a.createElement("a",{href:"https://metamask.io",target:"_blank",rel:"noreferrer noopener"},"MetaMask")," ","installed and your account is unlocked.")),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"decentraland-logo"}),r.a.createElement("h3",null,"Uh-oh... something went wrong."),t))}},{key:"renderLoading",value:function(){var e=this.props.loadingMessage;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"decentraland-logo"}),r.a.createElement("p",{className:"loading-message"},e)))}},{key:"render",value:function(){var e=this.props,t=e.loadingMessage,a=e.connectionError,n=e.contractError,s=e.showPrompt,o=e.isLoaded;return t?this.renderLoading():a||n?this.renderError():s?this.renderPrompt():o?r.a.createElement("div",{className:"app"},r.a.createElement(le,null),r.a.createElement(Ae,null),r.a.createElement(Re,null),r.a.createElement(Je,null)):null}}]),t}(n.Component)),ze=Object(re.c)(Object(c.b)((function(e){var t=null,a=function(e){return X(e).error}(e),n=function(e){return P(e).error}(e),r=q(e),s=function(e){return X(e).data.network}(e),o=T(e),c=r&&"0x"===r.beneficiary,i=c||!o;return!function(e){return X(e).loading}(e)?function(e){return P(e).loading}(e)&&(t="Loading data..."):t="Connecting...",{address:o,loadingMessage:t,connectionError:a,contractError:n,showPrompt:i,isNotFound:c,isLoaded:!!r,network:s}}),(function(e){return{onConnect:function(){return e((function(e,t,a){var n,r,s;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if((n=T(t()))&&D(n)){o.next=3;break}return o.abrupt("return");case 3:return e({type:"[Request] Connect"}),o.prev=4,o.next=8,f.a.awrap(a.connect());case 8:return r=o.sent,o.next=11,f.a.awrap(a.getNetwork());case 11:return s=o.sent,e(Y(r,s)),e((function(e,t,a){var n;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"[Request] Fetch Contract"}),t.prev=1,t.next=4,f.a.awrap(a.fetchContract());case 4:return n=t.sent,e(h(n)),t.abrupt("return",n);case 9:t.prev=9,t.t0=t.catch(1),e({type:"[Failure] Fetch Contract",error:t.t0.message});case 12:case"end":return t.stop()}}),null,null,[[1,9]])})),e((function(e,t,a){var n;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"[Request] Fetch Ticker"}),t.prev=1,t.next=4,f.a.awrap(a.fetchTicker("decentraland"));case 4:return n=t.sent,e(O(n)),t.abrupt("return",n);case 9:t.prev=9,t.t0=t.catch(1),e({type:"[Failure] Fetch Ticker",error:t.t0.message});case 12:case"end":return t.stop()}}),null,null,[[1,9]])})),o.abrupt("return",r);case 18:o.prev=18,o.t0=o.catch(4),e({type:"[Failure] Connect",error:o.t0.message});case 21:case"end":return o.stop()}}),null,null,[[4,18]])}))},onAccess:function(t){return e(Object(i.b)(t))}}}))(Ve)),He=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");He?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ge(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Ge(e)}))}}function Ge(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.ethereum.enable().then((function(){var e=Object(l.a)(window.history),t=function(e,t){var a=Object(u.c)({app:V,routing:i.d}),n=new ne,r=Object(i.c)(e),s=Object(d.createLogger)({predicate:function(){return!0},collapsed:function(){return!0}}),o=Object(u.a)(z.a.withExtraArgument(n),r,s),c=window.devToolsExtension?window.devToolsExtension():function(e){return e},l=Object(u.d)(o,c),p=Object(u.e)(a,t,l);return n.setStore(p),p}(e);o.a.render(r.a.createElement(c.a,{store:t},r.a.createElement(i.a,{store:t,history:e},r.a.createElement(re.b,{history:e},r.a.createElement(re.a,{path:"*"},r.a.createElement(ze,null))))),document.getElementById("root")),$e()}))},428:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"mintingFinished","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"unpause","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"mint","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_value","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"finishMinting","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"remaining","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[],"name":"MintFinished","type":"event"},{"anonymous":false,"inputs":[],"name":"Pause","type":"event"},{"anonymous":false,"inputs":[],"name":"Unpause","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"burner","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},429:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"duration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"cliff","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"beneficiary","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"terraformReserve","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"returnVesting","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"vestedAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"releasableAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"revoked","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"release","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"revocable","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"released","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_token","type":"address"},{"name":"amount","type":"uint256"}],"name":"releaseForeignToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"revoke","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"start","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"lockMana","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"target","type":"address"}],"name":"releaseTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"target","type":"address"}],"name":"changeBeneficiary","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"token","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_beneficiary","type":"address"},{"name":"_start","type":"uint256"},{"name":"_cliff","type":"uint256"},{"name":"_duration","type":"uint256"},{"name":"_revocable","type":"bool"},{"name":"_token","type":"address"},{"name":"_returnVesting","type":"address"},{"name":"_terraformReserve","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"}],"name":"LockedMANA","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"}],"name":"Released","type":"event"},{"anonymous":false,"inputs":[],"name":"Revoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]')},471:function(e,t,a){e.exports=a(1102)},694:function(e,t){},718:function(e,t){},720:function(e,t){},765:function(e,t){},767:function(e,t){},796:function(e,t){},905:function(e,t,a){},906:function(e,t,a){},907:function(e,t,a){},908:function(e,t,a){},909:function(e,t,a){},910:function(e,t,a){},911:function(e,t,a){},912:function(e,t,a){}},[[471,1,2]]]);
//# sourceMappingURL=main.a3f10c25.chunk.js.map