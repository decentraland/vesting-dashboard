(this["webpackJsonpvesting-dashboard"]=this["webpackJsonpvesting-dashboard"]||[]).push([[0],{1077:function(e,t,a){},1078:function(e,t,a){},1079:function(e,t,a){},1080:function(e,t,a){},1081:function(e,t,a){},1082:function(e,t,a){},1083:function(e,t,a){},1084:function(e,t,a){},1085:function(e,t,a){"use strict";a.r(t);a(466);var n=a(0),r=a.n(n),s=a(111),o=a.n(s),c=a(36),i=a(100),l=a(64),u=a(69),d=a(30),p=a(20),m=a.n(p);function f(e){return{type:"[Success] Fetch Contract",contract:e}}function h(e){return{type:"[Request] Change Beneficiary",address:e}}function b(e){return{type:"[Success] Change Beneficiary",address:e}}function y(e,t){return{type:"[Failure] Change Beneficiary",address:e,error:t}}var v={data:null,loading:!1,error:null};function g(e){return{type:"[Success] Fetch Ticker",ticker:e}}var O=a(419),E=a(141),w=a.n(E),j=function(e){return e.app.ticker},k=function(e){return j(e).data},C=a(142),N=a.n(C),x=function(e){return w()(1e3*e).format("dddd, MMM Do, YYYY")},M=function(e,t){return t?"$"+N()(e*t.price_usd).format("0,0.00"):"..."},A=function(e){return N()(e).format("0,0")},R="#4db1dd",S="#30d7a9",F="#222222",_="#d3d3d3";function B(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)}var D=function(e){return e.app.contract},P=function(e){return D(e).data},q=function(e){return e.routing.location?e.routing.location.pathname.slice(1):null},T=Object(O.a)(P,k,(function(e,t){for(var a=e.balance+e.released,n=[],r=new Date(1e3*e.start),s=w()(1e3*e.start).subtract(1,"month").endOf("month").add(1,"days"),o=new Date(1e3*e.start+1e3*e.duration),c=new Date(1e3*e.cliff),i=!1;!i;){var l=(s.toDate()-r)/(o-r)*a|0;n.push({MANA:s.toDate()>c?A(l):0,USD:s.toDate()>c?M(l,t):0,amount:s.toDate()>c?l:0,label:s.format("MMM Do, YYYY")}),i=s.toDate()>o,s.endOf("month").add(1,"days")}return n}));function Y(e,t){return{type:"[Success] Connect",address:e,network:t}}var I={data:{address:null},loading:!1,error:null};var L={data:null,loading:!1,error:null};var K={isChangeBeneficiaryModalOpen:!1};var U,W,J=Object(u.c)({contract:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Request] Fetch Contract":return Object(d.a)({},e,{error:null,loading:!0});case"[Success] Fetch Contract":return Object(d.a)({},e,{error:null,loading:!1,data:t.contract});case"[Failure] Fetch Contract":return Object(d.a)({},e,{loading:!1,error:t.error});default:return e}},ethereum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Request] Connect":return Object(d.a)({},e,{error:null,loading:!0});case"[Success] Connect":return Object(d.a)({},e,{error:null,loading:!1,data:Object(d.a)({},e.data,{address:t.address.toLowerCase(),network:t.network})});case"[Failure] Connect":return Object(d.a)({},e,{loading:!1,error:t.error});case"@@router/LOCATION_CHANGE":return Object(d.a)({},e,{error:null});default:return e}},ticker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Request] Fetch Ticker":return Object(d.a)({},e,{error:null,loading:!0});case"[Success] Fetch Ticker":return Object(d.a)({},e,{error:null,loading:!1,data:t.ticker});case"[Failure] Fetch Ticker":return Object(d.a)({},e,{loading:!1,error:t.error});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Open] Change Beneficiary Modal":return Object(d.a)({},e,{isChangeBeneficiaryModalOpen:!0});case"[Success] Change Beneficiary":case"[Failure] Change Beneficiary":case"[Close] Change Beneficiary Modal":return Object(d.a)({},e,{isChangeBeneficiaryModalOpen:!1});default:return e}}}),V=a(420),z=a(40),H=a(10),$=a(11),G=a(421),X=a.n(G),Q=a(422),Z=a(423),ee=function(){function e(){Object(H.a)(this,e),this.store=null}return Object($.a)(e,[{key:"setStore",value:function(e){this.store=e}},{key:"connect",value:function(){var e,t,a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.store.getState(),t=q(e),r.next=4,m.a.awrap(window.ethereum.enable());case 4:return a=r.sent[0],n=new X.a(window.web3),U=new n.eth.Contract(Q,"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942"),W=new n.eth.Contract(Z,t),r.abrupt("return",a);case 9:case"end":return r.stop()}}),null,this)}},{key:"fetchContract",value:function(){var e,t,a,n,r,s,o,c,i,l,u,d,p,f,h,b;return m.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return e=this.store.getState(),t=q(e),y.next=4,m.a.awrap(Promise.all([U.methods.balanceOf(t).call(),W.methods.duration().call(),W.methods.cliff().call(),W.methods.beneficiary().call(),W.methods.vestedAmount().call(),W.methods.releasableAmount().call(),W.methods.revoked().call(),W.methods.revocable().call(),W.methods.owner().call(),W.methods.released().call(),W.methods.start().call()]));case 4:return a=y.sent,n=Object(z.a)(a,11),r=n[0],s=n[1],o=n[2],c=n[3],i=n[4],l=n[5],u=n[6],d=n[7],p=n[8],f=n[9],h=n[10],b={address:t,balance:parseInt(r,10)/1e18,duration:parseInt(s,10),cliff:parseInt(o,10),beneficiary:c,vestedAmount:parseInt(i,10)/1e18,releasableAmount:parseInt(l,10)/1e18,revoked:u,revocable:d,owner:p,released:parseInt(f,10)/1e18,start:parseInt(h,10)},y.abrupt("return",b);case 19:case"end":return y.stop()}}),null,this)}},{key:"release",value:function(){return W.methods.release().call()}},{key:"changeBeneficiary",value:function(e){return W.methods.changeBeneficiary(e).call()}},{key:"fetchTicker",value:function(){var e,t,a,n=arguments;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"decentraland",r.next=3,m.a.awrap(fetch("https://api.coinmarketcap.com/v1/ticker/".concat(e,"/"),{mode:"cors"}));case 3:return t=r.sent,r.next=6,m.a.awrap(t.json());case 6:return a=r.sent,r.abrupt("return",a[0]);case 8:case"end":return r.stop()}}))}},{key:"getNetwork",value:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(window.ethereum.enable());case 2:return e.abrupt("return",window.web3);case 3:case"end":return e.stop()}}))}}]),e}();a(888);var te=a(258),ae=function(e){return e.app.ethereum},ne=a(13),re=a(12),se=a(14),oe=(a(889),function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props.address;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-left"},r.a.createElement("div",{className:"header-icon"}),r.a.createElement("h1",{className:"header-title"},"Decentraland")),r.a.createElement("div",{className:"header-right"},r.a.createElement("h3",{className:"header-description"},"Decentraland's MANA Token Vesting"),r.a.createElement("div",{className:"header-contract-address"},e)))}}]),t}(n.Component)),ce=Object(c.b)((function(e){return{address:q(e)}}),(function(e){return{}}))(oe),ie=(a(890),function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.percentage,a=e.color,n=e.amount,s=e.label,o=e.style,c=e.alt,i=e.ticker,l="metric-percentage"+(c?" alt":"");return r.a.createElement("div",{className:"metric",style:o},r.a.createElement("div",{className:"metric-label"},s),r.a.createElement("div",{className:"metric-amount"},A(n)," MANA"),r.a.createElement("div",{className:"metric-amount"},M(n,i)," USD"),r.a.createElement("div",{style:{backgroundColor:a},className:l},t,"%"))}}]),t}(n.Component)),le=(a(891),function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.percentage,a=e.color;return r.a.createElement("div",{className:"progress-bar",style:{backgroundColor:a,width:t+"%"}})}}]),t}(n.Component)),ue=a(2),de=(Object(ue.shape)({address:ue.string.isRequired,balance:ue.number.isRequired,duration:ue.number.isRequired,cliff:ue.number.isRequired,beneficiary:ue.string.isRequired,vestedAmount:ue.number.isRequired,releasableAmount:ue.number.isRequired,revoked:ue.bool.isRequired,revocable:ue.bool.isRequired,owner:ue.string.isRequired,released:ue.number.isRequired,start:ue.number.isRequired}),a(892),function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contract,a=e.ticker,n=t.released,s=t.vestedAmount,o=t.balance+n,c=n/o*100|0,i=s/o*100|0;return r.a.createElement("div",{className:"progress"},r.a.createElement(ie,{label:"Released",percentage:c,amount:n,color:R,alt:!0,ticker:a}),r.a.createElement(ie,{label:"Vested",percentage:i,amount:s,color:S,style:{bottom:0,left:i<20?0:"calc(".concat(i,"% - 90px)")},alt:!0,ticker:a}),r.a.createElement(ie,{label:"Total vesting",percentage:100,amount:o,color:_,style:{right:0},ticker:a}),r.a.createElement(le,{percentage:100,color:_}),r.a.createElement(le,{percentage:i,color:S}),r.a.createElement(le,{percentage:c,color:R}))}}]),t}(n.Component)),pe=Object(c.b)((function(e){return{ticker:k(e),contract:P(e)}}),(function(e){return{}}))(de),me=(a(893),function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.children,n=e.title;return r.a.createElement("span",{className:"details-row",title:n},r.a.createElement("label",{className:"details-label"},t),r.a.createElement("span",{className:"details-value"},a))}}]),t}(n.Component)),fe=a(424),he=a.n(fe),be=function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"getOpts",value:function(){return{seed:this.props.seed,color:"#7ea9da",spotcolor:"#571b37",bgcolor:"#8b5ac2",size:8,scale:2}}},{key:"componentDidMount",value:function(){this.draw()}},{key:"draw",value:function(){he.a.render(this.getOpts(),this.canvas)}},{key:"render",value:function(){var e=this;return r.a.createElement("canvas",{ref:function(t){return e.canvas=t}})}}]),t}(n.Component),ye=(a(894),function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.title;return r.a.createElement("div",{className:"Card"},a&&r.a.createElement("h3",null,a),t)}}]),t}(r.a.PureComponent)),ve=(a(895),function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(ne.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).handleRelease=function(){var e=a.props,t=e.contract,n=e.onRelease;t.releasableAmount>0?n():alert("You don't have any MANA to release")},a}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contract,a=e.ticker,n=e.isBeneficiary,s=e.onChangeBeneficiary,o=t.beneficiary,c=t.start,i=t.cliff,l=t.duration,u=t.releasableAmount,d=t.revocable,p=t.revoked,m=null,f=null;return n&&(m=r.a.createElement("span",{className:"action-btn",onClick:this.handleRelease},"Release"),f=r.a.createElement("span",{className:"action-btn",onClick:s},"Change")),r.a.createElement(ye,{title:"Details"},r.a.createElement(me,{label:"Beneficiary",title:o},r.a.createElement(be,{seed:o}),"\xa0\xa0",o.slice(0,6),"...",o.slice(-4),f),r.a.createElement(me,{label:"Start date"},x(c)),r.a.createElement(me,{label:"Cliff"},x(i)),r.a.createElement(me,{label:"End date"},x(c+l)),r.a.createElement(me,{label:"Relesable"},A(u)," MANA / ",M(u,a)," USD",m),r.a.createElement(me,{label:p?"Revoked":"Revocable"},p?"Yes":d?"Yes":"No"))}}]),t}(n.Component)),ge=Object(c.b)((function(e){var t=P(e),a=function(e){return ae(e).data.address}(e);return{contract:t,ticker:k(e),isBeneficiary:t.beneficiary===a}}),(function(e){return{onRelease:function(){return e((function(e,t,a){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"[Request] Release"}),t.prev=1,t.next=4,m.a.awrap(a.release());case 4:return e({type:"[Success] Release"}),t.abrupt("return");case 8:t.prev=8,t.t0=t.catch(1),e({type:"[Failure] Release",error:t.t0.message});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}))},onChangeBeneficiary:function(){return e({type:"[Open] Change Beneficiary Modal"})}}}))(ve),Oe=a(181),Ee=a(71),we=(a(1077),{backgroundColor:"black",padding:2,borderColor:F}),je={color:"white"},ke=function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},r.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666"},C(n.value).format("0,0.0a").toUpperCase()," "))}}]),t}(r.a.PureComponent),Ce=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(ne.a)(this,Object(re.a)(t).call(this,e))).renderX=function(e){var t=e.x,n=e.y,s=e.payload,o=a.props.schedule;return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(n,")")},r.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666"},o[s.index].label))},a.state={width:0,height:0},a.refContainer=a.refContainer.bind(Object(Oe.a)(a)),a}return Object(se.a)(t,e),Object($.a)(t,[{key:"refContainer",value:function(e){if(e){var t=e.getBoundingClientRect();this.state.width===t.width&&this.state.height===t.height||this.setState({width:t.width,height:t.height})}}},{key:"render",value:function(){var e=this.props.schedule;return r.a.createElement("div",{className:"schedule",ref:this.refContainer},r.a.createElement("h3",null,"Schedule"),r.a.createElement(Ee.b,{width:this.state.width,height:this.state.height-50,data:e,margin:{top:5,right:20,bottom:5,left:0}},r.a.createElement(Ee.e,{dataKey:"label",stroke:F,tick:this.renderX}),r.a.createElement(Ee.f,{stroke:F,tick:r.a.createElement(ke,null)}),r.a.createElement(Ee.a,{dataKey:"MANA"}),r.a.createElement(Ee.a,{dataKey:"USD"}),r.a.createElement(Ee.a,{dataKey:"amount",stroke:S,strokeWidth:2}),r.a.createElement(Ee.d,{wrapperStyle:we,labelStyle:je}),r.a.createElement(Ee.c,{x:w()().subtract(1,"month").endOf("month").add(1,"days").format("MMM Do, YYYY"),stroke:R})))}}]),t}(n.Component),Ne=Object(c.b)((function(e){return{schedule:T(e)}}),(function(e){return{}}))(Ce),xe=(a(1078),function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"dashboard-left"},r.a.createElement(pe,null),r.a.createElement(ge,null)),r.a.createElement("div",{className:"dashboard-right"},r.a.createElement(Ne,null)))}}]),t}(n.Component)),Me=(a(1079),function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-top"},r.a.createElement("div",{className:"footer-foundation"},"Decentraland Foundation"),r.a.createElement("div",{className:"footer-links"},r.a.createElement("a",{href:"https://blog.decentraland.org/",target:"_blank",rel:"noopener noreferrer"},"Blog"),r.a.createElement("a",{href:"https://decentraland.org/#faqs",target:"_blank",rel:"noopener noreferrer"},"FAQs"),r.a.createElement("a",{href:"mailto:hello@decentraland.org",target:"_blank",rel:"noopener noreferrer"},"Get in touch")),r.a.createElement("div",{className:"footer-icons"},r.a.createElement("a",{href:"https://twitter.com/decentraland",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-twitter"})),r.a.createElement("a",{href:"https://github.com/decentraland",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github"})),r.a.createElement("a",{href:"https://chat.decentraland.org/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-rocketchat"})),r.a.createElement("a",{href:"https://reddit.com/r/decentraland",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-reddit"})),r.a.createElement("a",{href:"https://www.facebook.com/decentraland/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-facebook"})),r.a.createElement("a",{href:"https://forum.decentraland.org/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"far fa-comment"})))),r.a.createElement("div",{className:"footer-bottom"},r.a.createElement("span",{className:"footer-copyright"},"Copyright 2018 Decentraland. All rights reserved.")))}}]),t}(n.Component)),Ae=a(184),Re=(a(1080),function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=Object(Ae.a)(e,["className"]),n="Input ".concat(t);return r.a.createElement("input",Object.assign({className:n},a))}}]),t}(r.a.PureComponent));Re.defaultProps={className:""};var Se=Re,Fe=function(e){return function(e){return e.app.ui}(e).isChangeBeneficiaryModalOpen},_e=(a(1081),function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(ne.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).handleKeyDown=function(e){var t=a.props,n=t.onEnter,r=t.onEsc;13===e.which&&n&&n(),27===e.which&&r&&r()},a.handleClick=function(e){e.stopPropagation()},a}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.isOpen,n=e.children,s=e.onOverlayClick,o="".concat(t," ").concat(a?"modal-open":""),c="Modal fade ".concat(a?"in":"");return r.a.createElement("div",{className:o,onKeyDown:this.handleKeyDown},r.a.createElement("div",{className:c,tabIndex:"-1",role:"dialog",onClick:s},r.a.createElement("div",{className:"modal-dialog",role:"document",onClick:this.handleClick},r.a.createElement("div",{className:"modal-content"},n))),a&&r.a.createElement("div",{className:"modal-backdrop fade in"}))}}]),t}(r.a.PureComponent));_e.defaultProps={className:"",isOpen:!1};var Be=function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.children;return r.a.createElement("button",{type:"button",className:"close btn btn-secondary","data-dismiss":"modal",onClick:t},a)}}]),t}(r.a.PureComponent),De=function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n="modal-body ".concat(a);return r.a.createElement("div",{className:n},t)}}]),t}(r.a.PureComponent);De.defaultProps={className:""};var Pe=function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n="modal-footer ".concat(a);return r.a.createElement("div",{className:n},t)}}]),t}(r.a.PureComponent);Pe.defaultProps={className:""};var qe=function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.onClose,n=e.className,s="modal-header ".concat(n);return r.a.createElement("div",{className:s},a&&r.a.createElement(Be,{onClose:a},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,t)))}}]),t}(r.a.PureComponent);_e.Body=De,_e.Footer=Pe,_e.Header=qe;var Te=_e;function Ye(e,t,a){var n="".concat(e," Button btn btn-").concat(t);return a&&(n="".concat(n," btn-").concat(a)),n}a(1082);var Ie=function(e){function t(){return Object(H.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.type,n=e.size,s=e.isSubmit,o=e.children,c=Object(Ae.a)(e,["className","type","size","isSubmit","children"]),i=s?"submit":"button";return r.a.createElement("button",Object.assign({type:i,className:Ye(t,a,n)},c),o)}}]),t}(r.a.PureComponent);Ie.defaultProps={className:"",type:"primary",isSubmit:!1};var Le=Ie,Ke=(a(1083),function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(ne.a)(this,Object(re.a)(t).call(this,e))).handleSubmit=function(){B(a.state.address)&&a.props.onSubmit(a.state.address)},a.handleChange=function(e){a.setState({address:e.target.value.trim()})},a.state={address:""},a}return Object(se.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.onClose;return r.a.createElement(Te,{isOpen:t,onOverlayClick:a,onEsc:a,onEnter:this.handleSubmit},r.a.createElement(Te.Header,{onClose:a},"Change Beneficiary"),r.a.createElement(Te.Body,null,r.a.createElement("label",null,"Beneficiary address"),r.a.createElement(Se,{value:this.state.address,placeholder:"0x...",onChange:this.handleChange,className:"beneficiary-address-input"}),r.a.createElement("p",null,"This is an irreversible operation. Please check the address carefully.")),r.a.createElement(Te.Footer,null,r.a.createElement(Le,{disabled:!B(this.state.address),onClick:this.handleSubmit},"TRANSFER")))}}]),t}(r.a.PureComponent)),Ue=Object(c.b)((function(e){return{isOpen:Fe(e)}}),(function(e){return{onSubmit:function(t){return e(function(e){return function(t,a,n){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t(h(e)),a.prev=1,a.next=4,m.a.awrap(n.changeBeneficiary(e));case 4:return t(b(e)),a.abrupt("return",e);case 8:a.prev=8,a.t0=a.catch(1),t(y(e,a.t0.message));case 11:case"end":return a.stop()}}),null,null,[[1,8]])}}(t))},onClose:function(){return e({type:"[Close] Change Beneficiary Modal"})}}}))(Ke),We=(a(1084),function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(ne.a)(this,Object(re.a)(t).call(this,e))).handleAddressChange=function(e){var t=e.target.value.trim();localStorage.setItem("address",t),a.setState({address:t})},a.handleKeyDown=function(e){var t=13===e.which||32===e.which,n=a.props,r=n.onAccess,s=n.showPrompt,o=n.address;t&&s&&a.state.address&&B(a.state.address)&&a.state.address!==o&&r(a.state.address)},a.state={address:a.props.address||localStorage.getItem("address")||null},a}return Object(se.a)(t,e),Object($.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.onConnect)(),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentWillReceiveProps",value:function(e){e.address!==this.props.address&&(0,this.props.onConnect)()}},{key:"renderPrompt",value:function(){var e=this.props,t=e.isNotFound,a=e.address,n=e.network,s="Press enter to continue";return this.state.address?B(this.state.address)?t&&this.state.address===a&&(s="There's no vesting contract on that address..."+(n&&"mainnet"!==n.name?"\nMaybe it's because you are on "+n.label+"?":"")):s="That's not a valid Ethereum address":s="Please provide a vesting contract address",r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"decentraland-logo"}),r.a.createElement("h3",null,"Contract Address"),r.a.createElement(Se,{value:this.state.address,placeholder:"0x...",onChange:this.handleAddressChange}),r.a.createElement("p",{className:"help"},s)))}},{key:"renderError",value:function(){var e=this.props.connectionError,t="So this happened: "+e;return-1!==e.indexOf("Failed to fetch")&&(t=r.a.createElement("p",{className:"error"},"Make sure you are connected to the internet.")),-1!==e.indexOf("Ethereum")&&(t=r.a.createElement("p",{className:"error"},"Make sure you have"," ",r.a.createElement("a",{href:"https://metamask.io",target:"_blank",rel:"noreferrer noopener"},"MetaMask")," ","installed and your account is unlocked.")),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"decentraland-logo"}),r.a.createElement("h3",null,"Uh-oh... something went wrong."),t))}},{key:"renderLoading",value:function(){var e=this.props.loadingMessage;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"decentraland-logo"}),r.a.createElement("p",{className:"loading-message"},e)))}},{key:"render",value:function(){var e=this.props,t=e.loadingMessage,a=e.connectionError,n=e.contractError,s=e.showPrompt,o=e.isLoaded;return t?this.renderLoading():a||n?this.renderError():s?this.renderPrompt():o?r.a.createElement("div",{className:"app"},r.a.createElement(ce,null),r.a.createElement(xe,null),r.a.createElement(Me,null),r.a.createElement(Ue,null)):null}}]),t}(n.Component)),Je=Object(te.c)(Object(c.b)((function(e){var t=null,a=function(e){return ae(e).error}(e),n=function(e){return D(e).error}(e),r=P(e),s=function(e){return ae(e).data.network}(e),o=q(e),c=r&&"0x"===r.beneficiary,i=c||!o;return!function(e){return ae(e).loading}(e)?function(e){return D(e).loading}(e)&&(t="Loading data..."):t="Connecting...",{address:o,loadingMessage:t,connectionError:a,contractError:n,showPrompt:i,isNotFound:c,isLoaded:!!r,network:s}}),(function(e){return{onConnect:function(){return e((function(e,t,a){var n,r,s;return m.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if((n=q(t()))&&B(n)){o.next=3;break}return o.abrupt("return");case 3:return e({type:"[Request] Connect"}),o.prev=4,o.next=7,m.a.awrap(a.connect());case 7:return r=o.sent,o.next=10,m.a.awrap(a.getNetwork());case 10:return s=o.sent,e(Y(r,s)),e((function(e,t,a){var n;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"[Request] Fetch Contract"}),t.prev=1,t.next=4,m.a.awrap(a.fetchContract());case 4:return n=t.sent,e(f(n)),t.abrupt("return",n);case 9:t.prev=9,t.t0=t.catch(1),e({type:"[Failure] Fetch Contract",error:t.t0.message});case 12:case"end":return t.stop()}}),null,null,[[1,9]])})),e((function(e,t,a){var n;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"[Request] Fetch Ticker"}),t.prev=1,t.next=4,m.a.awrap(a.fetchTicker("decentraland"));case 4:return n=t.sent,e(g(n)),t.abrupt("return",n);case 9:t.prev=9,t.t0=t.catch(1),e({type:"[Failure] Fetch Ticker",error:t.t0.message});case 12:case"end":return t.stop()}}),null,null,[[1,9]])})),o.abrupt("return",r);case 17:o.prev=17,o.t0=o.catch(4),e({type:"[Failure] Connect",error:o.t0.message});case 20:case"end":return o.stop()}}),null,null,[[4,17]])}))},onAccess:function(t){return e(Object(i.b)(t))}}}))(We)),Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ze(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Ve?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):He(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):He(e)}))}}function He(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.ethereum.enable().then((function(){var e=Object(l.a)(window.history);console.log(e);var t=function(e,t){var a=Object(u.c)({app:J,routing:i.d}),n=new ee,r=Object(i.c)(e),s=Object(u.a)(V.a.withExtraArgument(n),r),o=window.devToolsExtension?window.devToolsExtension():function(e){return e},c=Object(u.d)(s,o),l=Object(u.e)(a,t,c);return n.setStore(l),l}(e);o.a.render(r.a.createElement(c.a,{store:t},r.a.createElement(i.a,{store:t,history:e},r.a.createElement(te.b,{history:e},r.a.createElement(te.a,{path:"*"},r.a.createElement(Je,null)))),";"),document.getElementById("root")),ze()}))},422:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"mintingFinished","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"unpause","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"mint","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_value","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"finishMinting","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"remaining","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[],"name":"MintFinished","type":"event"},{"anonymous":false,"inputs":[],"name":"Pause","type":"event"},{"anonymous":false,"inputs":[],"name":"Unpause","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"burner","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},423:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"duration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"cliff","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"beneficiary","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"terraformReserve","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"returnVesting","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"vestedAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"releasableAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"revoked","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"release","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"revocable","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"released","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_token","type":"address"},{"name":"amount","type":"uint256"}],"name":"releaseForeignToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"revoke","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"start","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"lockMana","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"target","type":"address"}],"name":"releaseTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"target","type":"address"}],"name":"changeBeneficiary","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"token","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_beneficiary","type":"address"},{"name":"_start","type":"uint256"},{"name":"_cliff","type":"uint256"},{"name":"_duration","type":"uint256"},{"name":"_revocable","type":"bool"},{"name":"_token","type":"address"},{"name":"_returnVesting","type":"address"},{"name":"_terraformReserve","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"}],"name":"LockedMANA","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"}],"name":"Released","type":"event"},{"anonymous":false,"inputs":[],"name":"Revoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]')},465:function(e,t,a){e.exports=a(1085)},687:function(e,t){},710:function(e,t){},712:function(e,t){},779:function(e,t){},888:function(e,t,a){},889:function(e,t,a){},890:function(e,t,a){},891:function(e,t,a){},892:function(e,t,a){},893:function(e,t,a){},894:function(e,t,a){},895:function(e,t,a){}},[[465,1,2]]]);
//# sourceMappingURL=main.403942f1.chunk.js.map